<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>pycymatch: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pycymatch
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">pycymatch Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Samuel Farrens</dd></dl>
<h2>Contents </h2>
<ol type="1">
<li><a href="#intro_anchor">Introduction</a></li>
<li><a href="#depend_anchor">Dependenies</a></li>
<li><a href="#exe_anchor">Execution</a></li>
</ol>
<p><a class="anchor" id="intro_anchor"></a> </p><h2>Introduction </h2>
<p>Pycymatch (versions 4 &amp; 5) is a cylindrical matching code for identifying matches between a catalogue of simulated dark matter haloes populated with galaxies and the results of a cluster detection algorithm run on said catalogue. The code defines the "cylinder" as the R200 distance from the halo centre and <code>2 x dz(1 + z)</code> (where dz is the expected photometric redshift error). The code additionally requires that any potential matches be within the boundaries defined by the members of the mock halo (<em>i.e.</em> the farthest extent in RA and Dec of the members).</p>
<p>Version 4 of the code rank orders the mock haloes and the detections by Ngal (<em>i.e.</em> the number of galaxy members) and enforces unique matches. This ensures that a given halo is always matched to the largest available detection that satisfies the matching criteria. (<em>Note:</em> This method was implemented for the Euclid Cluster Finder Challenges (CFC) 1 and 2)</p>
<p>Version 5 of the code does not rank order the objects. Instead this code finds all possible detections (<em>i.e.</em> those that satisfy the matching criteria). A weighting is then assigned to each match to either find the best possible unique match (providing identical results to V4) or to find the probability distribution of all of the matches.</p>
<p><a class="anchor" id="depend_anchor"></a> </p><h2>Dependencies </h2>
<p>The code requires the following Python packages:</p>
<ul>
<li><a href="http://www.numpy.org/" target="_blank">Numpy</a></li>
<li><a href="http://www.scipy.org/" target="_blank">SciPy</a></li>
<li><a href="http://matplotlib.org/" target="_blank">Matplotlib</a></li>
</ul>
<p><a class="anchor" id="exe_anchor"></a> </p><h2>Execution </h2>
<p><b>Input Format</b></p>
<p>The expected inputs for both versions of the code are two ASCII files:</p>
<ol type="1">
<li>The mock halo catalogue.</li>
<li>A catalogue of cluster detections.</li>
</ol>
<p><em>Mock Halo Catalogue Format:</em></p>
<p>For the mock halo catalogue the codes expect to find the following properties in the following order:</p>
<ol type="1">
<li>ID:<code>(A unique string of numbers and/or characters to identify the halo)</code></li>
<li>Central Galaxy Flag: <code>(A boolean, i.e. 0 or 1)</code></li>
<li>RA: <code>(The halo Right Ascension in degrees)</code></li>
<li>Dec: <code>(The halo Declination in degrees)</code></li>
<li>z: <code>(The halo redshift)</code></li>
<li>Ngal: <code>(The number of galaxy members in the halo)</code></li>
<li>Mass: <code>(Log10 of the halo mass)</code></li>
<li>R200: <code>(R200 of the halo in arcminutes)</code></li>
<li>Min RA: <code>(Minimum halo member RA)</code></li>
<li>Max RA: <code>(Maximum halo member RA)</code></li>
<li>Min Dec: <code>(Minimum halo member Dec)</code></li>
<li>Max Dec: <code>(Maximum halo member Dec)</code></li>
</ol>
<p><em>Cluster Detection Catalogue Format:</em></p>
<p>For the detection catalogue the codes expect to find the following properties in the following order:</p>
<ol type="1">
<li>ID:<code>(A unique string of numbers and/or characters to identify the cluster)</code></li>
<li>RA: <code>(The cluster Right Ascension in degrees)</code></li>
<li>Dec: <code>(The cluster Declination in degrees)</code></li>
<li>z: <code>(The cluster redshift)</code></li>
<li>Ngal: <code>(The number of galaxy members in the cluster)</code></li>
<li>SNR: <code>(The signal-to-noise ratio of the cluster)</code></li>
</ol>
<p><b>Outputs</b></p>
<p>Both codes output the following plots:</p>
<ul>
<li>Completeness vs. mass and redshift.</li>
<li>Completeness vs. Ngal (halo) and redshift.</li>
<li>Purity vs. Ngal (detection) and redshift.</li>
</ul>
<div class="image">
<img src="figures/completeness_mass_plot.jpg"  alt="Example Figure1" title="Example Figure"/>
</div>
<div class="image">
<img src="figures/purity_plot.jpg"  alt="Example Figure2" title="Example Figure"/>
</div>
<p>Additional version 4 outputs:</p>
<ul>
<li>SNR vs. mass and redshift.</li>
<li>Spearman's rank order correlation coefficient vs. redshift.</li>
<li>List of all mock haloes and corresponding detection matches.</li>
<li>List of all detections and corresponding halo matches.</li>
</ul>
<p>Additional version 5 outputs:</p>
<ul>
<li>Cluster mass observable (lambda) vs. mass in bins of redshift.</li>
<li>Histograms of mass in bins of redshift.</li>
<li>Histograms of lambda in bins of mass and redshift.</li>
<li>Mass-observable matrices in bins of redshift.</li>
<li>List of matched haloes and corresponding detections.</li>
</ul>
<p><b>Running the Codes</b></p>
<p>The codes can be run as executables by changing the file permissions and specifying the path to Python (this is first line of the <a class="el" href="pycymatch__v4_8py.html">pycymatch_v4.py</a> and <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> files and the default is /usr/bin/python) e.g.:</p>
<blockquote class="doxtable">
<p>&gt;&gt; chmod +x <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> </p>
</blockquote>
<p>Otherwise to run the code symply run Python e.g:</p>
<blockquote class="doxtable">
<p>&gt;&gt; python <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> </p>
</blockquote>
<p>Help and a list of arguments are provided with the <code>--help</code> option e.g:</p>
<blockquote class="doxtable">
<p>&gt;&gt; python <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> &ndash;help </p>
</blockquote>
<p><b>Examples</b></p>
<p>To find matches with dz = 0.05 with version 4:</p>
<blockquote class="doxtable">
<p>&gt;&gt; python <a class="el" href="pycymatch__v4_8py.html">pycymatch_v4.py</a> -c DETECTIONS_FILE -m MOCK_FILE -z 0.05 </p>
</blockquote>
<p>To find unique matches with version 5:</p>
<blockquote class="doxtable">
<p>&gt;&gt; python <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> -i DETECTIONS_FILE MOCK_FILE -z 0.05 -u </p>
</blockquote>
<p>To find non-unique matches with version 5:</p>
<blockquote class="doxtable">
<p>&gt;&gt; python <a class="el" href="pycymatch__v5_8py.html">pycymatch_v5.py</a> -i DETECTIONS_FILE MOCK_FILE -z 0.05 </p>
</blockquote>
<p><b>Code Options</b></p>
<p>The following screenshots show the available options for both versions of the code.</p>
<div class="image">
<img src="figures/v4_options.jpg"  alt="V4 Figure" title="V4 options"/>
</div>
<div class="image">
<img src="figures/v5_options.jpg"  alt="V% Figure" title="V5 5ptions"/>
</div>
<p><em>NOTE: A full description of code options will be added in the future.</em> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 9 2015 14:30:19 for pycymatch by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
